<?xml version="1.0" encoding="UTF-8"?>
<window>
	<defaultcontrol always="true">9950</defaultcontrol>
	<backgroundcolor>background</backgroundcolor>
	<views>50</views>
	<onload condition="!Skin.String(pvrCurrentDir)">Skin.SetString(pvrCurrentDir, "Default")</onload>
	<onload condition="Player.HasMedia">AlarmClock(StopPlayback,PlayerControl(stop),00:00,true)</onload>
	<onload>Container.SetSortMethod(date)</onload>
	<onload>Skin.SetBool(NeedSortFix)</onload>
	<onload>SetFocus(9950, 0, absolute)</onload>
	<controls>
		<include>DefaultBackground</include>
		<control type="group">
			<animation effect="fade" start="100" end="0" time="200" tween="sine" condition="$EXP[infodialog_active]">Conditional</animation>
			
			<control type="button" id="9949">
				<description>Fixes the sort direction of the main container and then passes focus back to the side list</description>
				<visible allowhiddenfocus="true">false</visible>
				<onfocus condition='!StringCompare(Container(9950).ListItem.Property(id),"all_flat") + !Container.SortDirection(ascending)'>Container.SetSortDirection</onfocus>
				<onfocus condition='StringCompare(Container(9950).ListItem.Property(id),"all_flat") + Container.SortDirection(ascending)'>Container.SetSortDirection</onfocus>
				<onfocus>Skin.Reset(NeedSortFix)</onfocus>
				<onfocus>SetFocus(50, 0, absolute)</onfocus>
				<onfocus>SetFocus(9950)</onfocus>
			</control>

			<control type="group">
				<include>OpenClose_Left</include>
				<control type="fixedlist" id="9950">
					<description>side Show listing, changes what is displayed in the main episode listing</description>
					<left>0</left>
					<top>list_y_offset</top>
					<right>550</right>
					<bottom>list_y_offset</bottom>
					<onright>50</onright>
					<onclick>Control.SetFocus(50, 0, absolute)</onclick>
					<movement>3</movement>
					<focusposition>5</focusposition>
					<pagecontrol>73</pagecontrol>
					<scrolltime>200</scrolltime>
					<content>
						<item>
							<label>All Recordings - $INFO[Skin.String(pvrCurrentDir)]</label>
							<property name="id">all_flat</property>
							<onclick>-</onclick>
						</item>
					</content>
					<content sortby="label" sortorder="ascending" target="noop">pvr://recordings/tv/active/$INFO[Skin.String(pvrCurrentDir)]</content>
					<focusedlayout height="80" width="550">
						<control type="button">
							<description>Updates the main content list with the proper listing and triggers a check on the content's sort order</description>
							<visible allowhiddenfocus="true">false</visible>
							<onfocus condition='String.IsEqual(Container(9950).ListItem.Property(id),"all_flat")'>Container.Update("pvr://recordings/tv/active/$INFO[Skin.String(pvrCurrentDir)]?view=flat", replace)</onfocus>
							<onfocus condition='!String.IsEqual(Container(9950).ListItem.Property(id),"all_flat")'>Container.Update("$INFO[Container(9950).ListItem.FolderPath]", replace)</onfocus>
							<onfocus condition='Skin.HasSetting(NeedSortFix)'>AlarmClock(FixSort,SetFocus(9949),00:00,true)</onfocus>
							<onfocus condition='!Skin.HasSetting(NeedSortFix)'>Skin.SetBool(NeedSortFix)</onfocus> 
						</control>
						<control type="image">
							<left>0</left>
							<top>0</top>
							<right>0</right>
							<height>80</height>
							<texture colordiffuse="button_focus">lists/focus.png</texture>
							<visible>!Control.HasFocus(50)</visible>
						</control>
						<control type="label">
							<left>50</left>
							<top>0</top>
							<height>80</height>
							<right>30</right>
							<aligny>center</aligny>
							<scroll>true</scroll>
							<label>$INFO[ListItem.Label]</label>
							<font>font36_title</font>
							<shadowcolor>text_shadow</shadowcolor>
						</control>
					</focusedlayout>
					<itemlayout height="80" width="550">
						<control type="label">
							<left>50</left>
							<top>0</top>
							<height>80</height>
							<right>30</right>
							<aligny>center</aligny>
							<label>$INFO[ListItem.Label]</label>
							<font>font14</font>
							<shadowcolor>text_shadow</shadowcolor>
						</control>
					</itemlayout>
				</control>
			</control>
			<control type="group">
				<depth>DepthContentPanel</depth>
				<include>OpenClose_Right</include>
				<left>590</left>
				<right>0</right>
				<include content="ContentPanel">
					<param name="left" value="-62" />
					<param name="width" value="120%" />
					<param name="top" value="-20" />
					<param name="flipx" value="true" />
				</include>
				<control type="scrollbar" id="73">
					<left>-40</left>
					<top>list_y_offset</top>
					<width>12</width>
					<bottom>list_y_offset</bottom>
					<onleft>9950</onleft>
					<onright>9950</onright>
					<orientation>vertical</orientation>
					<animation effect="zoom" start="100,100" end="50,100" center="-40,0" time="300" tween="sine" easing="inout" condition="!Control.HasFocus(73)">conditional</animation>
				</control>
				
				<control type="group">
					<top>150</top>
					<left>-10</left>
					<control type="list" id="50">
						<description>Main content panel.  *Should* only ever show episodes...</description>
						<visible>true</visible>
						<left>0</left>
						<width>widelist_width</width>
						<height>480</height>
						<onleft>9950</onleft>
						<pagecontrol>9973</pagecontrol>
						<scrolltime>200</scrolltime>
						<orientation>vertical</orientation>
						<scrolltime>100</scrolltime>
						<focusedlayout height="60" width="widelist_width">
							<control type="image">
								<left>0</left>
								<right>0</right>
								<top>0</top>
								<bottom>0</bottom>
								<texture colordiffuse="button_focus">lists/focus.png</texture>
								<visible>Control.HasFocus(50)</visible>
							</control>
							<control type="label">
								<left>10</left>
								<aligny>center</aligny>
								<font>font30</font>
								<label>$VAR[PVR_Episode_List_Entry]</label>
								<shadowcolor>text_shadow</shadowcolor>
							</control>
							<control type="label">
								<right>10</right>
								<width>500</width>
								<align>right</align>
								<aligny>center</aligny>
								<font>font12</font>
								<label>$INFO[ListItem.Date]</label>
							</control>
						</focusedlayout>
						<itemlayout height="60" width="widelist_width">
							<control type="label">
								<left>10</left>
								<aligny>center</aligny>
								<font>font13</font>
								<label>$VAR[PVR_Episode_List_Entry]</label>
								<shadowcolor>text_shadow</shadowcolor>
							</control>
							<control type="label">
								<right>10</right>
								<width>500</width>
								<align>right</align>
								<aligny>center</aligny>
								<font>font12</font>
								<label>$INFO[ListItem.Date]</label>
								<textcolor>grey</textcolor>
							</control>
						</itemlayout>
					</control>
					<control type="list" id="50">
						<visible>false</visible>
						<itemlayout>
						</itemlayout>
						<focusedlayout>
						</focusedlayout>
					</control>
					<control type="scrollbar" id="9973">
						<right>5</right>
						<top>0</top>
						<width>5</width>
						<height>480</height>
						<onleft>50</onleft>
						<onright>50</onright>
						<orientation>vertical</orientation>
					</control>
				</control>
				
				<control type="group">
					<description>Current selection info area</description>
					<top>670</top>
					
					<control type="image">
						<description>separator between episode info and episode list</description>
						<left>-34</left>
						<right>0</right>
						<top>-20</top>
						<height>3</height>
						<texture border="2">dialogs/separator-grey.png</texture>
					</control>
					
					<control type="group">
						<description>User is on side Show listing, with .. or All Episodes selected.  Very basic info only</description>
						<bottom>34</bottom>
						<height>401</height>
						<visible>!Control.HasFocus(50) + [StringCompare(Container(9950).ListItem.Label,"..") | StringCompare(Container(9950).ListItem.Property(id),"all_flat")]</visible>
						
						<control type="image">
							<include>Visible_Fade</include>
							<left>-10</left>
							<bottom>0</bottom>
							<height>276</height>
							<width>490</width>
							<align>center</align>
							<aspectratio>scale</aspectratio>
							<texture>DefaultTVShows.png</texture>
						</control>
						
						<control type="label">
							<top>25</top>
							<height>40</height>
							<width>1000</width>
							<font>font32_title</font>
							<scroll>true</scroll>
							<textcolor>button_focus</textcolor>
							<label>$INFO[Container(9950).ListItem.Label]</label>
						</control>
						
						<control type="textbox">
							<bottom>0</bottom>
							<height>276</height>
							<left>500</left>
							<right>25</right>
							<font>font14</font>
							<label>$INFO[Container(50).NumItems] items</label>
						</control>
					</control>
					
					<control type="group">
						<description>User is on side Show listing, with a Show selected. Give general info about the show.</description>
						
						<bottom>34</bottom>
						<height>401</height>
						<visible>!Control.HasFocus(50) + !StringCompare(Container(9950).ListItem.Label,"..") + !StringCompare(Container(9950).ListItem.Property(id),"all_flat")</visible>
						
						<control type="image">
							<include>Visible_Fade</include>
							<left>-10</left>
							<bottom>0</bottom>
							<height>276</height>
							<width>490</width>
							<align>center</align>
							<aspectratio>scale</aspectratio>
							<texture fallback="DefaultTVShows.png">$INFO[Container(50).ListItem.Art(fanart)]</texture>
						</control> 
						
						<control type="label">
							<top>25</top>
							<height>40</height>
							<width>1000</width>
							<font>font32_title</font>
							<scroll>true</scroll>
							<textcolor>button_focus</textcolor>
							<label>$INFO[Container(50).ListItem.Label]</label>
						</control>
						
						<control type="label">
							<top>30</top>
							<right>10</right>
							<width>400</width>
							<height>90</height>
							<font>font25_narrow</font>
							<align>right</align>
							<textcolor>grey</textcolor>
							<label>$INFO[Container(50).ListItem.ChannelName]</label>
						</control>
						
						<control type="textbox">
							<bottom>0</bottom>
							<height>276</height>
							<left>500</left>
							<right>25</right>
							<font>font14</font>
							<visible>IntegerGreaterThan(Container(50).NumItems,1)</visible>
							<label>$INFO[Container(50).NumItems] episodes</label>
						</control>
						<control type="label">
							<bottom>0</bottom>
							<height>276</height>
							<left>500</left>
							<right>25</right>
							<font>font14</font>
							<visible>!IntegerGreaterThan(Container(50).NumItems,1) + IntegerGreaterThan(Container(50).NumItems,0)</visible>
							<label>One episode</label>
						</control>
					</control>
					
					<control type="group">
						<description>User is on Main episode listing.  Give the most detail Episode Info available.</description>
						
						<bottom>34</bottom>
						<height>401</height>
						<visible>Control.HasFocus(50)</visible>
						
						<control type="image">
							<include>Visible_Fade</include>
							<left>-10</left>
							<bottom>0</bottom>
							<height>276</height>
							<width>490</width>
							<align>center</align>
							<aspectratio>scale</aspectratio>
							<texture fallback="$INFO[Container(50).ListItem.Art(fanart)]">$INFO[Container(50).ListItem.Art(thumb)]</texture>
						</control>
						
						<control type="label">
							<top>25</top>
							<height>40</height>
							<width>1000</width>
							<font>font32_title</font>
							<scroll>true</scroll>
							<textcolor>button_focus</textcolor>
							<label>$INFO[Container(50).ListItem.Label]</label>
						</control>
						
						<control type="label">
							<top>65</top>
							<width>1000</width>
							<height>40</height>
							<font>font36_title</font>
							<scroll>true</scroll>
							<label>$INFO[Container(50).ListItem.EpisodeName,","]</label>
						</control>
						
						<control type="label">
							<top>30</top>
							<right>10</right>
							<width>400</width>
							<height>90</height>
							<font>font25_narrow</font>
							<align>right</align>
							<textcolor>grey</textcolor>
							<label>$INFO[Container(50).ListItem.ChannelName][CR]$INFO[Container(50).ListItem.StartDate][CR]Length: $INFO[Container(50).ListItem.Duration]</label>
						</control>
						
						<control type="textbox">
							<bottom>0</bottom>
							<height>276</height>
							<left>500</left>
							<right>25</right>
							<font>font14</font>
							<!--align>justify</align-->
							<autoscroll delay="5000" time="1500" repeat="3000">True</autoscroll>
							<label>$INFO[Container(50).ListItem.Plot]</label>
						</control>
					</control>
				</control>
			</control>
			<include content="TopBar">
				<param name="breadcrumbs_label" value="$LOCALIZE[19020] / $LOCALIZE[19017]" />
				<param name="sublabel" value="$INFO[Skin.String(pvrCurrentDir)]" />
			</include>
			<control type="group">
				<description>Backend storage info on top bar</description>
				<depth>DepthBars</depth>
				<top>8</top>
				<left>width_center</left>
				<include>OpenClose_Right</include>
				<control type="label">
					<description>Disk usage text</description>
					<width>500</width>
					<height>20</height>
					<left>-250</left>
					<label>$VAR[PVRDiskSpacePercent] backend disk space used</label>
					<shadowcolor>black</shadowcolor>
					<align>center</align>
					<font>font25_narrow</font>
					<visible>!Integer.IsGreater(PVR.backenddiskspaceprogr,100)</visible>
				</control>
				<control type="progress">
					<description>Disk usage bar</description>
					<left>-150</left>
					<top>35</top>
					<width>300</width>
					<height>10</height>
					<info>PVR.backenddiskspaceprogr</info>
					<visible>!Integer.IsGreater(PVR.backenddiskspaceprogr,100)</visible>
				</control>
			</control>
		</control>
		<control type="label" id="29">
			<font></font>
			<include>HiddenObject</include>
		</control>
		<control type="label" id="30">
			<font></font>
			<include>HiddenObject</include>
		</control>
	</controls>
</window>
